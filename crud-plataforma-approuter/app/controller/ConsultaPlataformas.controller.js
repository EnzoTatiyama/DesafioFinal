sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,a,e,o,s){"use strict";return t.extend("desafio.l4e.app.controller.ConsultaPlataformas",{onInit:function(){this.getRouter().getRoute("ConsultaPlataformas").attachPatternMatched(this.handleRouteMatched,this)},handleRouteMatched:async function(){var t=this;$.ajax({url:"/api/plataformas",method:"GET",success(e){t.getView().setModel(new a(e),"Plataformas")},error(){}})},onExcluir:async function(t){var a=t.getParameter("listItem").getBindingContext("Plataformas").getObject().id;this.getView().setBusy(true);await $.ajax({url:`/api/plataformas/${a}`,method:"DELETE",success(t){e.success("Excluído com Sucesso!")},error(){e.error("Não foi possível excluir a Plataforma.")}});await this.handleRouteMatched();this.getView().setBusy(false)},onNavEditarPlataforma:function(t){var a=t.getSource().getBindingContext("Plataformas").getObject().id;this.getRouter().navTo("EditarPlataformas",{id:a})},onSearch:function(t){var a=[];var e=t.getSource().getValue();if(e&&e.length>0){var r=new o("nome",s.Contains,e);a.push(r)}var i=this.byId("tablePlataformas");var n=i.getBinding("items");n.filter(a,"Application")}})});